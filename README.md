# bigdata
for class

斗鱼是时下国内最大的游戏直播平台，日活用户达2000万，主播日活达40,000人，ALEXA全球排名约200名、国内约20名(高于优酷、Bilibili等站)。斗鱼直播间，是斗鱼最主要的内容形态：左边是视频区，上面飘过的文字就是弹(dàn)幕，直播网站上用户和主播互动的最主要形式。弹幕服务是性能压力最大的服务之一，相当于是需要百万人群聊时的消息推送量，视频区下面是礼物赠送区;右侧是弹幕区，Tab页上是排行榜，用户对该直播间的贡献值，土豪喜闻乐见。

大数据管理平台，承载所有的元数据管理、统一监控系统、报表展示、任务调度、发布系统等所有配套功能。

# 斗鱼个性推荐系统
• App首页几乎都是个性推荐的栏目位，每个用户看到的都是依据自己口味推荐的直播间，千人千面。
• 直播列表中有特定的两个位置。
• 直播间页面中，有“超管推荐”，每个直播间看到的都不一样，百人百面。
个性推荐的算法模型选择是一方面，推荐服务本身工程实现的性能也是很大的考验，要支持500w的用户同时在线量，接口处理请求峰值近1w +QPS。得益于服务化，核心功能都配备完备的监控告警。正在上线的Docker容器化，可以大大提升服务的弹性，方便服务规模的扩缩。
个性推荐的效果好坏拼的就是用户画像，对自己用户越熟悉，推荐效果才可能越好;
不足之处有，无法第一时间描绘出用户画像。个性推荐无法速成，斗鱼个性推荐当前也有不少问题： 推荐规则单一，点击转化率约5成，仍有提升空间。推荐服务开发效率及扩展性不高。推荐数据分散，复用率低。

# 斗鱼风控系统
• 大力惩治的同时，要保证用户体验，尽量降低误杀。
• 依据用户行为数据获取特征模型，提取作弊行为的特征模型。
• 针对IP和设备画像，对IP和设备进行嫌疑级别评级打分。
• 采用线上实时+离线分析 双层识别模型为主，辅以“基于规则-rule-based”判断。
• 提取用户行为风险模型、用户风险评分等级。
斗鱼面对黑产形势主要集中在直播间人气(主播价值的一个衡量依据)、鱼丸(主播可兑换的礼物)、打折鱼翅(黑卡充值—重灾区，主播可以兑换，危害更大更直接)、主播刷关注，可以从淘宝价格上一瞥黑市上各个刷量的难易和获益程度。
在搜索结果中，也能看到斗鱼友台出现在搜索结果中，可见，黑产风险是整个行业要面对的，不仅仅是斗鱼。在这一块，是需要行业内的整体合作的。
